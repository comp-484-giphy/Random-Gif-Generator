<%- include('./_header.ejs') %>


<div class="tab">
    <button class="tablinks" onclick="openCity(event, 'Random')" id="defaultOpen">Random Gifs</button>
    <button class="tablinks" onclick="openCity(event, 'Saved')">Saved Gifs</button>
</div>

<div id="Random" class="tabcontent">
    <div class="game-container">
        <div class="card-container">
            <div class="card">
                <img href='<%=gif%>' src='<%=gif%>.gif'>
            </div>
        </div>
        <button type="button" class="btn btn-light" onClick="refreshPage()">New Gif</button>
        <form action="/" method="POST" id='save_form'>
            <input type="hidden" id="gif" name="gif" value="<%=gif%>">
            <button type="submit" class="btn btn-warning"">Save Gif</button>
        </form>
    </div>
</div>

<div id="Saved" class="tabcontent">
    <div class="save-container">
        <% gifs.forEach(function (item) { %>
            <div class="card-container">
                <div class="card">
                    <div class="card">
                        <img class ='saved' href='<%=item.gif%>' src='<%=item.gif%>'>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>




<script>
    document.getElementById("defaultOpen").click();

    function refreshPage(){
        window.location.reload();
    }
    function openCity(evt, cityName) {
        // Declare all variables
        var i, tabcontent, tablinks;

        // Get all elements with class="tabcontent" and hide them
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }


</script>
